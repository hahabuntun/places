# Документация к проекту "Интерактивная карта Москвы"

## Ссылка на [разрвернутое на pythonanywhere приложение](https://hahabuntun.pythonanywhere.com/)

## Обзор
Этот проект представляет собой веб-приложение на базе Django, разработанное для создания интерактивной карты Москвы, отображающей места для активного отдыха, как задумано популярным блогером Артёмом. Приложение включает API для управления данными, удобный интерфейс админки и фронтенд-карту, построенную с использованием Leaflet.js.

## Структура проекта
- **`activitiesApp/`**: Основная логика приложения.
  - `admin.py`: Настройка интерфейса админки для моделей `Place` и `PlaceImage`.
  - `apps.py`: Конфигурация приложения `activitiesApp`.
  - `models.py`: Определение моделей `Place` и `PlaceImage`.
  - `tests.py`: Юнит- и интеграционные тесты для моделей и представлений.
  - `urls.py`: Маршрутизация URL для приложения.
  - `views.py`: Обработка представлений карты и API.
  - `migrations/`: Файлы миграций базы данных.
- **`moscowActivities/`**: Директория конфигурации проекта.
  - `settings.py`: Настройки проекта, включая базу данных, статические файлы и медиа.
  - `urls.py`: Глобальная маршрутизация URL.
  - `wsgi.py` и `asgi.py`: Конфигурации WSGI и ASGI.
- **`db.sqlite3`**: Файл базы данных SQLite.
- **`media/`**: Директория для загруженных изображений.
- **`static/`**: Статические файлы, включая CSS, JS и изображения.
- **`templates/`**: Содержит шаблон `index.html` для интерфейса карты.
- **`seed_images/`**: Директория для исходных изображений.
- **`README.md`**: Документация и инструкции по установке.
- **`requirements.txt`**: Список зависимостей Python.

## Основные возможности
1. **Настройка Django-проекта**:
   - Проект использует Django 5.2.7 с базой данных SQLite.
   - Включены `jazzmin` для улучшенной админки и `django_summernote` для редактирования WYSIWYG.

2. **API с данными**:
   - `/api/places/`: Возвращает данные в формате GeoJSON для всех мест.
   - `/api/places/<int:pk>/`: Предоставляет подробные данные о конкретном месте, включая изображения и описания.

3. **Интерфейс админки**:
   - Настроена с использованием `Jazzmin` для улучшенного UX.
   - Модели `Place` и `PlaceImage` позволяют добавлять/редактировать координаты, описания и изображения.
   - Поддержка WYSIWYG для длинных описаний через `django_summernote`.

4. **Фронтенд**:
   - Интерактивная карта на базе Leaflet.js с боковой панелью (кастомный `leaflet-sidebar.js`).
   - Vue.js для динамического отображения деталей места и карусели изображений.
   - Интеграция GeoJSON для размещения маркеров.

## Установка
1. Склонируйте репозиторий.
2. Создайте виртуальную среду: `python -m venv venv`.
3. Активируйте виртуальную среду:
   - Linux: `source venv/bin/activate`
4. Установите зависимости: `pip install -r requirements.txt`.
5. Примените миграции: `python manage.py migrate`.
6. Запустите сервер разработки: `python manage.py runserver`.

## Использование
- Доступ к админ-панели: `/admin/` (создайте суперпользователя с помощью `python manage.py createsuperuser`).
- Просмотр карты: корневой URL `/`.
- Добавление мест и изображений через админку.
- API-эндпоинты доступны для получения данных.

## Тестирование
- Запустите тесты: `python manage.py test`.
- Тесты охватывают модели (`Place`, `PlaceImage`), представления (`map_view`, `places_geojson`, `place_detail`) и функциональность админки.